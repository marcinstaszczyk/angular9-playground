<h2>Form</h2>

<form [formGroup]="form">

  <div class="mas-form-grid">
    <mas-input class="mas-form-grid__item"
               controlName="firstName"
               label="First Name"
               placeholder="Some placeholder"
               required="true"
    ></mas-input>
    <mas-input class="mas-form-grid__item"
               name="surname"
               label="Surname"
               required="true"
               [validationMessages]="customValidationMessages"
    ></mas-input>
  </div>

  <div class="mas-form-grid">
    <mas-input class="mas-form-grid__item" style="flex-grow: 1"
               name="email"
               label="Email"
               required="true"
               [validators]="emailValidator"
    ></mas-input>
    <button class="mas-form-grid__item mas-form-grid__button" (click)="setValue()">Set some value</button>
  </div>

  <mas-input name="twoValidators"
             label="Two validators"
             required="true"
             placeholder="Email with 5 characters or more"
             [validators]="twoValidators"
  ></mas-input>

  <div formGroupName="address">
    <h3>Address:</h3>
    <mas-input name="city" label="City" required="true"></mas-input>
    <mas-input name="street" label="Street"></mas-input>
  </div>

  <div formGroupName="crossValidation">
    <h3>Cross validation:</h3>
    <mas-input name="field1" label="Field1" required="true"></mas-input>
    <mas-input name="field2"
               label="Field2"
               required="true"
               [validators]="field1EqField2Validator"
               [validationDependencies]="field1Control"
               [validationMessages]="customValidationMessages"
    ></mas-input>
  </div>

  <h3>Reactive (standard) FormControl initialisation + async validator</h3>
  <mas-input name="reactiveControl"
             label="Reactive Control"
             required="true"
  ></mas-input>

  Select core:<br/>
  <i>No label or auto error messages. Just plain ControlValueAccessor implementation.</i>
  <mas-select-core class="mas-form-group__input"
                   formControlName="selectText"
                   [items]="selectItems"></mas-select-core>
  <br/>
  <i>But can have any template.</i>
  <mas-select-core class="mas-form-group__input"
                   formControlName="selectWithIcon"
                   [items]="selectUserItems"
                   [labelTemplate]="selectUserTemplate"></mas-select-core>
  <ng-template #selectUserTemplate let-user="data">
    <div class="mas-user-badge">
      <i class="mas-user-badge__icon fa fa-{{user.icon.name}}" aria-hidden="true"></i>
      <div class="mas-user-badge__name">{{user.name}}</div>
    </div>
  </ng-template>
  <br/>

  <button (click)="submit()">Submit</button>
</form>
<br/>

<mas-form-status [form]="form" [submitted]="submitted"></mas-form-status>

<br/>
TODO:
<ol>
  <li>Single switch (select/radio) without form</li>
  <li>Initial form value?</li>
  <li>Change on required & disabled (disabled deactivates validation)</li>
  <li>Submit button (including async validators checked)</li>
  <li>Test if-s on components</li>
  <li>Form level validators</li>
  <li>Form level messages</li>
  <li>Second input (select) and multiple inputs generalisation</li>
  <li>(optional) Automatic FromControl registration in other grouping AbstractControl types</li>
  <li>"Generic" input from DataType (object which describes all data for input except "name" and "label"</li>
  <li>Auto form from configuration (Array<[name,label,dataType]>+"submit handle")</li>
  <li>Select-core core hide expand on blur</li>
  <li>Select-core autofocus on search</li>
  <li>Select-core arrows movement and selection with enter (also right after search)</li>
</ol>

DONE:
<ol>
  <li>Label as parameter</li>
  <li>Automatic error messages from dictionary</li>
  <li>Default error message for unmapped errors</li>
  <li>(optional) Automatic FromControl initialization</li>
  <li>(optional) Automatic FromControl registration in FormGroup</li>
  <li>WCAG:
    <ul>
      <li>aria-describedby (connection between input and error message)</li>
      <li>label "for" attribute</li>
    </ul>
  </li>
  <li>Validators as parameter</li>
  <li>Special for required validator: adding * to label and validator</li>
  <li>Input color for validation success (green) and failure (red)</li>
  <li>Disabled</li>
  <li>Value changing on field on action/Value changing from outside</li>
  <li>Cross fields validation</li>
  <li>Async validators (done by manually creating FormControl</li>
  <li>Additional error message and overrides to dictionary ones</li>
  <li>Select-core with async items load</li>
  <li>Select-core with autocomplete / async search</li>
</ol>

<!--<mas-heavy2 depth="5"></mas-heavy2>-->
